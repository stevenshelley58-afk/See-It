{
  "id": "876d552a-4bf0-4dd2-bbce-21d4aaaa895b",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ai_requests": {
      "name": "ai_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_step_id": {
          "name": "session_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model_version": {
          "name": "model_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "operation": {
          "name": "operation",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "input_params": {
          "name": "input_params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "queue_time_ms": {
          "name": "queue_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "process_time_ms": {
          "name": "process_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_regeneration": {
          "name": "is_regeneration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "regeneration_reason": {
          "name": "regeneration_reason",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "original_request_id": {
          "name": "original_request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "output_quality_score": {
          "name": "output_quality_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_requests_session_idx": {
          "name": "ai_requests_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_requests_provider_idx": {
          "name": "ai_requests_provider_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_requests_created_at_idx": {
          "name": "ai_requests_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_requests_session_id_sessions_id_fk": {
          "name": "ai_requests_session_id_sessions_id_fk",
          "tableFrom": "ai_requests",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_requests_session_step_id_session_steps_id_fk": {
          "name": "ai_requests_session_step_id_session_steps_id_fk",
          "tableFrom": "ai_requests",
          "tableTo": "session_steps",
          "columnsFrom": [
            "session_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_events": {
      "name": "analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "shop_domain": {
          "name": "shop_domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "client_timestamp": {
          "name": "client_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "server_timestamp": {
          "name": "server_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "analytics_events_type_idx": {
          "name": "analytics_events_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_events_session_idx": {
          "name": "analytics_events_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_events_timestamp_idx": {
          "name": "analytics_events_timestamp_idx",
          "columns": [
            {
              "expression": "server_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversions": {
      "name": "conversions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_order_id": {
          "name": "shopify_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_title": {
          "name": "product_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "line_item_price": {
          "name": "line_item_price",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "order_total": {
          "name": "order_total",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "had_ar_session": {
          "name": "had_ar_session",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ar_session_ids": {
          "name": "ar_session_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "time_from_ar_to_purchase_ms": {
          "name": "time_from_ar_to_purchase_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id_hash": {
          "name": "customer_id_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_repeat_customer": {
          "name": "is_repeat_customer",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "ordered_at": {
          "name": "ordered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "conversions_shop_idx": {
          "name": "conversions_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversions_product_idx": {
          "name": "conversions_product_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversions_ordered_at_idx": {
          "name": "conversions_ordered_at_idx",
          "columns": [
            {
              "expression": "ordered_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversions_shop_id_shops_id_fk": {
          "name": "conversions_shop_id_shops_id_fk",
          "tableFrom": "conversions",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversions_product_id_products_id_fk": {
          "name": "conversions_product_id_products_id_fk",
          "tableFrom": "conversions",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "conversions_session_id_sessions_id_fk": {
          "name": "conversions_session_id_sessions_id_fk",
          "tableFrom": "conversions",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_metrics": {
      "name": "daily_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_sessions": {
          "name": "total_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_sessions": {
          "name": "completed_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "abandoned_sessions": {
          "name": "abandoned_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_sessions": {
          "name": "error_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "funnel_room_capture": {
          "name": "funnel_room_capture",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "funnel_mask": {
          "name": "funnel_mask",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "funnel_inpaint": {
          "name": "funnel_inpaint",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "funnel_placement": {
          "name": "funnel_placement",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "funnel_complete": {
          "name": "funnel_complete",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "add_to_cart_count": {
          "name": "add_to_cart_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "purchase_count": {
          "name": "purchase_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue_from_ar": {
          "name": "revenue_from_ar",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_ai_cost": {
          "name": "total_ai_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "regeneration_cost": {
          "name": "regeneration_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cost_per_session": {
          "name": "cost_per_session",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_conversion": {
          "name": "cost_per_conversion",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "total_errors": {
          "name": "total_errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "critical_errors": {
          "name": "critical_errors",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_session_duration_ms": {
          "name": "avg_session_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_inpaint_time_ms": {
          "name": "avg_inpaint_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "daily_metrics_date_idx": {
          "name": "daily_metrics_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "daily_metrics_shop_idx": {
          "name": "daily_metrics_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daily_metrics_shop_id_shops_id_fk": {
          "name": "daily_metrics_shop_id_shops_id_fk",
          "tableFrom": "daily_metrics",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.errors": {
      "name": "errors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stack_trace": {
          "name": "stack_trace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "step": {
          "name": "step",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "input_data": {
          "name": "input_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "os": {
          "name": "os",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "browser": {
          "name": "browser",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "is_user_facing": {
          "name": "is_user_facing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recovery_action": {
          "name": "recovery_action",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "errors_error_code_idx": {
          "name": "errors_error_code_idx",
          "columns": [
            {
              "expression": "error_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "errors_severity_idx": {
          "name": "errors_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "errors_occurred_at_idx": {
          "name": "errors_occurred_at_idx",
          "columns": [
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "errors_shop_idx": {
          "name": "errors_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "errors_session_id_sessions_id_fk": {
          "name": "errors_session_id_sessions_id_fk",
          "tableFrom": "errors",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "errors_shop_id_shops_id_fk": {
          "name": "errors_shop_id_shops_id_fk",
          "tableFrom": "errors",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prepared_images": {
      "name": "prepared_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "setup_session_id": {
          "name": "setup_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "original_url": {
          "name": "original_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_width": {
          "name": "original_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_height": {
          "name": "original_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prepared_url": {
          "name": "prepared_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prepared_width": {
          "name": "prepared_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prepared_height": {
          "name": "prepared_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "auto_confidence": {
          "name": "auto_confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "manual_edits_required": {
          "name": "manual_edits_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "edit_types": {
          "name": "edit_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processing_time_ms": {
          "name": "processing_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "revision_count": {
          "name": "revision_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "quality_score": {
          "name": "quality_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by_merchant": {
          "name": "approved_by_merchant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "times_used_in_sessions": {
          "name": "times_used_in_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "prepared_images_product_idx": {
          "name": "prepared_images_product_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prepared_images_product_id_products_id_fk": {
          "name": "prepared_images_product_id_products_id_fk",
          "tableFrom": "prepared_images",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prepared_images_setup_session_id_product_setup_sessions_id_fk": {
          "name": "prepared_images_setup_session_id_product_setup_sessions_id_fk",
          "tableFrom": "prepared_images",
          "tableTo": "product_setup_sessions",
          "columnsFrom": [
            "setup_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_setup_sessions": {
      "name": "product_setup_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "images_attempted": {
          "name": "images_attempted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "images_completed": {
          "name": "images_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "images_failed": {
          "name": "images_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "auto_success_count": {
          "name": "auto_success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "manual_edit_count": {
          "name": "manual_edit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "errors_encountered": {
          "name": "errors_encountered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "help_clicked": {
          "name": "help_clicked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "product_setup_shop_idx": {
          "name": "product_setup_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "product_setup_product_idx": {
          "name": "product_setup_product_idx",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "product_setup_sessions_shop_id_shops_id_fk": {
          "name": "product_setup_sessions_shop_id_shops_id_fk",
          "tableFrom": "product_setup_sessions",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_setup_sessions_product_id_products_id_fk": {
          "name": "product_setup_sessions_product_id_products_id_fk",
          "tableFrom": "product_setup_sessions",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_product_id": {
          "name": "shopify_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_type": {
          "name": "product_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor": {
          "name": "vendor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_ar_enabled": {
          "name": "is_ar_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ar_enabled_at": {
          "name": "ar_enabled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "prepared_images_count": {
          "name": "prepared_images_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "setup_started_at": {
          "name": "setup_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "setup_completed_at": {
          "name": "setup_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "setup_duration_ms": {
          "name": "setup_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "setup_method": {
          "name": "setup_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "setup_abandoned": {
          "name": "setup_abandoned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "total_sessions": {
          "name": "total_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_sessions": {
          "name": "completed_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_session_at": {
          "name": "last_session_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "orders_with_ar": {
          "name": "orders_with_ar",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "orders_without_ar": {
          "name": "orders_without_ar",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ar_conversion_rate": {
          "name": "ar_conversion_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "products_shop_idx": {
          "name": "products_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_shopify_id_idx": {
          "name": "products_shopify_id_idx",
          "columns": [
            {
              "expression": "shopify_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "products_shop_id_shops_id_fk": {
          "name": "products_shop_id_shops_id_fk",
          "tableFrom": "products",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_steps": {
      "name": "session_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step": {
          "name": "step",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "retake_count": {
          "name": "retake_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "mask_edit_count": {
          "name": "mask_edit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "placement_adjustments": {
          "name": "placement_adjustments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "regeneration_count": {
          "name": "regeneration_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "auto_vs_manual": {
          "name": "auto_vs_manual",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_confidence": {
          "name": "auto_confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "quality_rating": {
          "name": "quality_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "input_file": {
          "name": "input_file",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output_file": {
          "name": "output_file",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "session_steps_session_idx": {
          "name": "session_steps_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "session_steps_step_idx": {
          "name": "session_steps_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_steps_session_id_sessions_id_fk": {
          "name": "session_steps_session_id_sessions_id_fk",
          "tableFrom": "session_steps",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shop_domain": {
          "name": "shop_domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "product_title": {
          "name": "product_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_price": {
          "name": "product_price",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_step": {
          "name": "current_step",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "abandonment_step": {
          "name": "abandonment_step",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "abandonment_reason": {
          "name": "abandonment_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "os": {
          "name": "os",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "os_version": {
          "name": "os_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "browser": {
          "name": "browser",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "browser_version": {
          "name": "browser_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "screen_width": {
          "name": "screen_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "screen_height": {
          "name": "screen_height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "has_camera": {
          "name": "has_camera",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "has_gyroscope": {
          "name": "has_gyroscope",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "webgl_support": {
          "name": "webgl_support",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "connection_type": {
          "name": "connection_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "entry_point": {
          "name": "entry_point",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "referrer": {
          "name": "referrer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_on_page_before_ar_ms": {
          "name": "time_on_page_before_ar_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "post_ar_action": {
          "name": "post_ar_action",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "added_to_cart": {
          "name": "added_to_cart",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "added_to_cart_at": {
          "name": "added_to_cart_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_ai_cost": {
          "name": "total_ai_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "regeneration_count": {
          "name": "regeneration_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "regeneration_cost": {
          "name": "regeneration_cost",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "had_error": {
          "name": "had_error",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "gcs_path": {
          "name": "gcs_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sessions_session_id_idx": {
          "name": "sessions_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_shop_idx": {
          "name": "sessions_shop_idx",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_shop_domain_idx": {
          "name": "sessions_shop_domain_idx",
          "columns": [
            {
              "expression": "shop_domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_status_idx": {
          "name": "sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_started_at_idx": {
          "name": "sessions_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_updated_at_idx": {
          "name": "sessions_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_shop_id_shops_id_fk": {
          "name": "sessions_shop_id_shops_id_fk",
          "tableFrom": "sessions",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sessions_product_id_products_id_fk": {
          "name": "sessions_product_id_products_id_fk",
          "tableFrom": "sessions",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_session_id_unique": {
          "name": "sessions_session_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.shops": {
      "name": "shops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shopify_plan": {
          "name": "shopify_plan",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "uninstalled_at": {
          "name": "uninstalled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_status": {
          "name": "billing_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_embedded": {
          "name": "is_embedded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "embed_enabled_at": {
          "name": "embed_enabled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "embed_disabled_at": {
          "name": "embed_disabled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "theme_id": {
          "name": "theme_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "theme_name": {
          "name": "theme_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_products": {
          "name": "total_products",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ar_enabled_products": {
          "name": "ar_enabled_products",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_sessions": {
          "name": "total_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_sessions": {
          "name": "completed_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_session_at": {
          "name": "last_session_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "needs_attention": {
          "name": "needs_attention",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attention_reason": {
          "name": "attention_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "shops_domain_idx": {
          "name": "shops_domain_idx",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shops_health_idx": {
          "name": "shops_health_idx",
          "columns": [
            {
              "expression": "needs_attention",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "shops_domain_unique": {
          "name": "shops_domain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_health": {
      "name": "system_health",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "service": {
          "name": "service",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_rate": {
          "name": "error_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_healthy_at": {
          "name": "last_healthy_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_message": {
          "name": "last_error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "system_health_service_idx": {
          "name": "system_health_service_idx",
          "columns": [
            {
              "expression": "service",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}