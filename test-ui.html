<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>See It - UI Test</title>
  <link rel="stylesheet" href="app/extensions/see-it-extension/assets/see-it-modal.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      min-height: 100vh;
    }
    /* Force visibility for testing */
    .see-it-modal {
      display: flex !important;
      position: fixed !important;
      opacity: 1 !important;
    }
    .see-it-screen.active {
      opacity: 1 !important;
      transform: translateX(0) !important;
      pointer-events: all !important;
    }
    .see-it-entry-mobile,
    .see-it-prepare-mobile,
    .see-it-position-mobile,
    .see-it-result-mobile {
      display: flex !important;
    }
    .test-buttons {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 999999;
      background: white;
      padding: 10px 20px;
      border-radius: 999px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .test-buttons button {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 500;
    }
    .test-buttons button.active {
      background: #171717;
      color: white;
    }
    .test-buttons button:not(.active) {
      background: #e5e5e5;
      color: #525252;
    }
  </style>
</head>
<body>

<!-- Test navigation buttons -->
<div class="test-buttons">
  <button onclick="showScreen('entry')" id="btn-1" class="active">1. Entry</button>
  <button onclick="showScreen('prepare')" id="btn-2">2. Prepare</button>
  <button onclick="showScreen('position')" id="btn-3">3. Position</button>
  <button onclick="showScreen('result')" id="btn-4">4. Result</button>
</div>

<!-- Modal -->
<div id="see-it-modal" class="see-it-modal">
  <div class="see-it-modal-content">
    
    <!-- Screen 1: Entry -->
    <div id="see-it-screen-entry" class="see-it-screen see-it-screen-entry active">
      <!-- Mobile Layout -->
      <div class="see-it-entry-mobile">
        <!-- Dark gradient header with product card -->
        <div class="see-it-entry-header-dark">
          <div class="see-it-entry-header-top">
            <button class="see-it-btn-close-light" id="see-it-close-entry">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
            <span class="see-it-entry-header-label">PREVIEW</span>
            <div class="see-it-header-spacer"></div>
          </div>
          
          <!-- Product card inside dark area -->
          <div class="see-it-product-card-compact">
            <div class="see-it-product-image-compact">
              <div style="width: 60px; height: 75px; background: linear-gradient(to bottom, #fcd34d, #fbbf24); border-radius: 8px;"></div>
            </div>
          </div>
        </div>

        <!-- Product info below dark header -->
        <div class="see-it-product-info-below">
          <p class="see-it-product-title">Vintage Mirror</p>
          <p class="see-it-product-price">$1,000</p>
        </div>

        <!-- Content -->
        <div class="see-it-entry-content">
          <h1 class="see-it-entry-title">See it in your space</h1>
          <p class="see-it-entry-description">Snap a photo of your room.</p>

          <button class="see-it-btn-primary-pill" id="see-it-btn-take-photo">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"/>
              <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"/>
            </svg>
            Take Photo
          </button>

          <div class="see-it-entry-actions-pill">
            <button class="see-it-btn-outline-pill" id="see-it-btn-upload">Upload</button>
            <button class="see-it-btn-outline-pill" id="see-it-btn-saved">Saved</button>
          </div>
        </div>

        <!-- Step indicator -->
        <div class="see-it-step-indicator">
          <p class="see-it-step-number">1. Entry</p>
          <p class="see-it-step-hint">Choose how to add room</p>
        </div>
      </div>
    </div>

    <!-- Screen 2: Prepare Room -->
    <div id="see-it-screen-prepare" class="see-it-screen see-it-screen-prepare">
      <!-- Mobile Layout -->
      <div class="see-it-prepare-mobile">
        <!-- Header -->
        <div class="see-it-screen-header">
          <button class="see-it-btn-back-light" id="see-it-back-prepare">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>Back</span>
          </button>
          <span class="see-it-screen-header-title">PREPARE</span>
          <div class="see-it-header-spacer"></div>
        </div>

        <!-- Room photo container -->
        <div class="see-it-prepare-room-container">
          <div class="see-it-room-image-wrapper">
            <div style="width: 100%; height: 100%; background: #d4d4d4; display: flex; align-items: center; justify-content: center;">
              <div style="width: 80px; height: 100px; background: #a78bfa; border-radius: 8px; opacity: 0.7;"></div>
            </div>
            
            <!-- Product preview in room -->
            <div class="see-it-prepare-product-preview">
              <div style="width: 40px; height: 50px; background: linear-gradient(to bottom, #fcd34d, #fbbf24); border-radius: 4px;"></div>
            </div>
          </div>
        </div>

        <!-- Paint controls -->
        <div class="see-it-prepare-controls">
          <p class="see-it-prepare-hint">Paint over anything to remove, or skip.</p>

          <!-- Paint tools row -->
          <div class="see-it-paint-tools">
            <div class="see-it-brush-indicator">
              <div class="see-it-brush-circle">
                <div class="see-it-brush-dot"></div>
              </div>
              <span>Paint to remove</span>
            </div>
            <button class="see-it-tool-btn-outline" disabled>Undo</button>
            <button class="see-it-tool-btn-outline" disabled>Clear</button>
          </div>

          <!-- Action buttons -->
          <div class="see-it-prepare-actions-new">
            <button class="see-it-btn-outline-pill" disabled>Remove</button>
            <button class="see-it-btn-primary-pill see-it-btn-primary-pill-sm">Continue</button>
          </div>
        </div>

        <!-- Step indicator -->
        <div class="see-it-step-indicator">
          <p class="see-it-step-number">2. Prepare Room</p>
          <p class="see-it-step-hint">Remove objects (optional)</p>
        </div>
      </div>
    </div>

    <!-- Screen 3: Position Product -->
    <div id="see-it-screen-position" class="see-it-screen see-it-screen-position">
      <!-- Mobile Layout -->
      <div class="see-it-position-mobile">
        <!-- Header -->
        <div class="see-it-screen-header">
          <button class="see-it-btn-back-light" id="see-it-back-position">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>Back</span>
          </button>
          <span class="see-it-screen-header-title">POSITION</span>
          <div class="see-it-header-spacer"></div>
        </div>

        <!-- Room with product -->
        <div class="see-it-position-room-container">
          <div class="see-it-room-image-wrapper">
            <div style="width: 100%; height: 100%; background: #d4d4d4; display: flex; align-items: center; justify-content: center;">
              <div style="width: 60px; height: 75px; background: linear-gradient(to bottom, #fcd34d, #fbbf24); border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);"></div>
            </div>

            <!-- Instruction pill -->
            <div class="see-it-instruction-pill">
              <p>Drag to move Â· Pinch to resize</p>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <div class="see-it-position-controls">
          <!-- Save room toggle -->
          <label class="see-it-save-room-toggle-new">
            <span>Save room for later</span>
            <div class="see-it-toggle-switch">
              <input type="checkbox" id="see-it-save-room-toggle" />
              <div class="see-it-toggle-slider"></div>
            </div>
          </label>

          <!-- Generate button -->
          <button class="see-it-btn-primary-pill" id="see-it-generate">Generate</button>
        </div>

        <!-- Step indicator -->
        <div class="see-it-step-indicator">
          <p class="see-it-step-number">3. Position</p>
          <p class="see-it-step-hint">Place product, then generate</p>
        </div>
      </div>
    </div>

    <!-- Screen 4: Result -->
    <div id="see-it-screen-result" class="see-it-screen see-it-screen-result">
      <!-- Mobile Layout -->
      <div class="see-it-result-mobile">
        <!-- Result image area -->
        <div class="see-it-result-container-new">
          <!-- Close button -->
          <button class="see-it-btn-close-result" id="see-it-close-result">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>

          <!-- Success badge -->
          <div class="see-it-success-badge-new">
            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
            </svg>
            Complete
          </div>

          <!-- Product in result -->
          <div class="see-it-result-product-display">
            <div style="width: 50px; height: 65px; background: linear-gradient(to bottom, #fcd34d, #fbbf24); border-radius: 6px;"></div>
          </div>

          <!-- Room result image -->
          <div class="see-it-result-room-display">
            <div style="width: 100%; height: 100%; background: #d4d4d4;"></div>
          </div>
        </div>

        <!-- Actions -->
        <div class="see-it-result-actions-new">
          <button class="see-it-btn-primary-pill" id="see-it-share">Share</button>
          <div class="see-it-result-secondary-actions-new">
            <button class="see-it-btn-outline-pill" id="see-it-adjust">Adjust</button>
            <button class="see-it-btn-outline-pill" id="see-it-new-room">New Room</button>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
function showScreen(screenName) {
  // Hide all screens
  document.querySelectorAll('.see-it-screen').forEach(s => {
    s.classList.remove('active');
  });
  
  // Show selected screen
  const screenMap = {
    'entry': 'see-it-screen-entry',
    'prepare': 'see-it-screen-prepare',
    'position': 'see-it-screen-position',
    'result': 'see-it-screen-result'
  };
  document.getElementById(screenMap[screenName]).classList.add('active');
  
  // Update buttons
  document.querySelectorAll('.test-buttons button').forEach((b, i) => {
    b.classList.remove('active');
  });
  const btnMap = { 'entry': 'btn-1', 'prepare': 'btn-2', 'position': 'btn-3', 'result': 'btn-4' };
  document.getElementById(btnMap[screenName]).classList.add('active');
}
</script>

</body>
</html>

