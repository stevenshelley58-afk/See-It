/* See It Modal - Premium UI Contract (Strict Scoping)
 * Version: 2.0.2
 */

/* 
 * CRITICAL SAFETY RULE: 
 * NO global selectors (*, body, h1, button, etc) allowed at root level.
 * All styles MUST be scoped to .see-it-widget-hook or .see-it-modal 
 */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

/* =========================================
   1. Design Tokens (Scoped to roots)
   ========================================= */
.see-it-widget-hook,
.see-it-modal {
  /* Typography */
  --si-font: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --si-title-size-mobile: 24px;
  /* Refined for mobile balance */
  --si-title-size-desktop: 32px;
  --si-body-size: 15px;
  --si-label-size: 11px;
  --si-tracking-title: -0.025em;
  /* Tighter for premium feel */
  --si-tracking-label: 0.12em;
  /* Wider for uppercase */
  --si-line-title: 1.25;
  --si-line-body: 1.6;

  /* Color */
  --si-bg: #FAFAFA;
  --si-surface: #FFFFFF;
  --si-text: #171717;
  /* Sharper black */
  --si-muted: #737373;
  --si-muted-2: #A3A3A3;
  --si-border: #E5E5E5;
  --si-border-soft: #F5F5F5;
  /* Softer divider */
  --si-cta: #171717;
  --si-cta-hover: #000000;
  --si-success: #22C55E;
  --si-danger: #EF4444;

  /* Radii */
  --si-radius-card: 16px;
  --si-radius-btn: 12px;
  --si-radius-pill: 9999px;
  --si-radius-chip: 6px;

  /* Elevation / Shadows (Refined) */
  --si-shadow-card: 0 1px 2px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.02);
  /* Clean, flat-ish */
  --si-shadow-float: 0 8px 24px rgba(0, 0, 0, 0.08), 0 4px 8px rgba(0, 0, 0, 0.04);
  --si-shadow-modal: 0 32px 64px -12px rgba(0, 0, 0, 0.14);
  /* Deep, soft drop */

  /* Motion */
  --si-ease: cubic-bezier(0.16, 1, 0.3, 1);
  /* Apple-style spring-ish ease */
  --si-duration-fast: 150ms;
  --si-duration-base: 250ms;
  --si-duration-slow: 400ms;

  /* Sizing */
  --si-hit: 44px;
  --si-cta-min-h: 48px;
  /* Taller, more confident */
}

/* =========================================
   2. Reset & Safety (Scoped)
   ========================================= */

/* Protect against hostile themes setting "all: unset" or wild box-sizing */
.see-it-widget-hook *,
.see-it-modal * {
  box-sizing: border-box;
  font-family: var(--si-font);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.see-it-widget-hook button,
.see-it-modal button {
  appearance: button;
  background: transparent;
  border: none;
  cursor: pointer;
  margin: 0;
  padding: 0;
  font: inherit;
  color: inherit;
  text-align: center;
  text-transform: none;
  overflow: visible;
  line-height: normal;
  -webkit-appearance: button;
  -webkit-tap-highlight-color: transparent;
}

.see-it-widget-hook img,
.see-it-modal img {
  border-style: none;
  /* IE fix */
  max-width: 100%;
  height: auto;
  display: block;
}

/* =========================================
   3. Primitives (Shared Classes)
   ========================================= */

/* Primary Pill CTA */
.see-it-btn-primary-pill {
  display: flex !important;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  background-color: var(--si-cta) !important;
  color: #FFFFFF !important;
  min-height: var(--si-cta-min-h);
  border-radius: var(--si-radius-pill) !important;
  border: none !important;
  font-weight: 600;
  font-size: var(--si-body-size);
  letter-spacing: -0.01em;
  transition: all var(--si-duration-base) var(--si-ease);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  /* Minimal lift default */
}

.see-it-btn-primary-pill:hover {
  background-color: var(--si-cta-hover) !important;
  transform: translateY(-1px);
  box-shadow: var(--si-shadow-float);
}

.see-it-btn-primary-pill:active {
  transform: scale(0.99);
  box-shadow: none;
}

.see-it-btn-primary-pill svg {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  stroke: currentColor;
}

/* Secondary Pill CTA */
.see-it-btn-outline-pill {
  display: flex !important;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  background-color: var(--si-surface) !important;
  color: var(--si-text) !important;
  min-height: var(--si-cta-min-h);
  border-radius: var(--si-radius-pill) !important;
  border: 1px solid var(--si-border) !important;
  font-weight: 500;
  font-size: var(--si-body-size);
  transition: all var(--si-duration-base) var(--si-ease);
}

.see-it-btn-outline-pill:hover {
  border-color: var(--si-muted-2) !important;
  background-color: #f9f9f9 !important;
}

.see-it-btn-outline-pill:active {
  transform: scale(0.99);
  background-color: var(--si-border-soft) !important;
}

/* Card Primitive */
.see-it-card {
  background: var(--si-surface);
  border-radius: var(--si-radius-card);
  border: 1px solid var(--si-border-soft);
  box-shadow: var(--si-shadow-card);
}

/* =========================================
   4. PDP Widget Styling
   ========================================= */

/* The hook itself acts as the card container */
.see-it-widget-hook {
  background: var(--si-surface);
  border-radius: var(--si-radius-card);
  /* OR adhere to theme if desired, but spec says premium card tokens */
  border: 1px solid var(--si-border-soft);
  box-shadow: var(--si-shadow-card);
  padding: 16px;
  margin: 16px 0;
  /* reasonable default spacing */
  width: 100%;
}

.see-it-widget-content {
  margin-bottom: 12px;
}

.see-it-widget-title {
  font-size: 15px;
  font-weight: 600;
  margin: 0 0 4px 0;
  letter-spacing: var(--si-tracking-title);
  line-height: var(--si-line-title);
  color: var(--si-text);
  display: block;
  /* Ensure it's not hidden by theme */
}

.see-it-widget-description {
  font-size: 14px;
  /* Slightly larger than 13px for premium feel */
  line-height: 1.4;
  color: var(--si-muted);
  margin: 0;
  font-weight: 400;
  display: block;
}

/* =========================================
   5. Modal Structure (Strict Scoping)
   ========================================= */
.see-it-modal {
  position: fixed;
  z-index: 2147483647;
  /* Max safe z-index */
  inset: 0;
  width: 100%;
  height: 100%;
  /* Fallback */
  height: 100dvh;
  overflow: hidden;
  background-color: rgba(250, 250, 250, 0.85);
  /* Light premium backdrop */
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(12px);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--si-duration-base) var(--si-ease);
}

.see-it-modal:not(.hidden) {
  opacity: 1;
  pointer-events: auto;
}

.see-it-modal.hidden {
  display: none !important;
  /* Force hide */
}

.see-it-modal-content {
  position: relative;
  width: 100%;
  height: 100%;
  height: 100dvh;
  background: var(--si-surface);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: var(--si-shadow-modal);
}

@media (min-width: 768px) {
  .see-it-modal-content {
    /* Desktop Modal Window - Apple-style contained experience */
    width: 90vw;
    max-width: 1000px;
    height: 80vh;
    max-height: 700px;
    /* Fixed height instead of aspect-ratio to ensure footer visibility */
    border-radius: 24px;
    border: 1px solid rgba(255, 255, 255, 0.5);
  }
}

/* Prevent scroll on body only when modal is open - handled by JS class toggle on body */
/* We can't put global body styles here safely without risking leakage if we used 'body.open' selector. 
   JS should add class to body, but we'll scope our reaction to that class? 
   Actually, the best practice for extension is to set `overflow: hidden` on body via JS inline style or a very specific utility class. 
   We will strictly NOT style `body` here. */

/* =========================================
   6. Screen System (Entry, Prepare, Position, Result)
   ========================================= */

.see-it-screen {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background: var(--si-bg);
  display: flex;
  flex-direction: column;
  opacity: 0;
  transform: translateX(20px);
  pointer-events: none;
  transition: opacity var(--si-duration-base) var(--si-ease),
    transform var(--si-duration-base) var(--si-ease);
  overflow: hidden;
  /* No scrolling - everything fits */
}

.see-it-screen.active {
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
  z-index: 10;
}

/* Header */
.see-it-header {
  flex-shrink: 0;
  /* Never shrink - always visible */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: var(--si-surface);
  border-bottom: 1px solid var(--si-border-soft);
}

.see-it-header-title {
  color: var(--si-muted);
  font-size: 11px;
  letter-spacing: var(--si-tracking-label);
  text-transform: uppercase;
  font-weight: 600;
}

.see-it-btn-icon {
  background: transparent;
  border: none;
  color: var(--si-text);
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background var(--si-duration-fast);
}

.see-it-btn-icon:hover {
  background: var(--si-border-soft);
}

.see-it-btn-icon svg {
  width: 24px;
  height: 24px;
}

/* =========================================
   7. Specific Screen Layouts
   ========================================= */

/* Entry Screen */
.see-it-entry-content {
  flex: 1;
  min-height: 0;
  /* Critical for flex children to shrink */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 24px;
  text-align: center;
  max-width: 480px;
  margin: 0 auto;
  width: 100%;
  overflow: hidden;
  /* Prevent content from overflowing */
}

@media (min-width: 768px) {
  .see-it-entry-content {
    padding: 32px 24px;
  }
}

.see-it-entry-title {
  font-size: var(--si-title-size-mobile);
  font-weight: 600;
  color: var(--si-text);
  letter-spacing: var(--si-tracking-title);
  margin: 0 0 12px 0;
  line-height: var(--si-line-title);
}

@media (min-width: 768px) {
  .see-it-entry-title {
    font-size: var(--si-title-size-desktop);
  }
}

.see-it-entry-description {
  color: var(--si-muted);
  font-size: 16px;
  line-height: 1.5;
  margin: 0 0 40px 0;
  font-weight: 400;
}

.see-it-entry-actions {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

@media (min-width: 768px) {
  .see-it-entry-actions {
    flex-direction: row;
    /* Desktop layout usually puts these side by side or splits the screen. 
       Keeping it simple based on "No Drift" rule: Ensure buttons are visible. */
  }
}

/* Product Card Helper (used in entry or result) */
.see-it-product-card-compact {
  background: var(--si-surface);
  border-radius: 12px;
  padding: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  border: 1px solid var(--si-border-soft);
  margin-bottom: 24px;
  width: 100%;
  text-align: left;
}

.see-it-product-card-compact img {
  width: 48px;
  height: 48px;
  object-fit: cover;
  border-radius: 8px;
  background: var(--si-bg);
}

.see-it-product-info-compact p {
  margin: 0;
}

.see-it-product-title-compact {
  font-size: 14px;
  font-weight: 600;
  color: var(--si-text);
}

.see-it-product-price-compact {
  font-size: 13px;
  color: var(--si-muted);
}

/* Prepare Screen */
.see-it-prepare-room-container {
  flex: 1;
  position: relative;
  background: #f0f0f0;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.see-it-modal .see-it-room-preview {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.see-it-modal .see-it-mask-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: auto;
  touch-action: none;
  z-index: 2;
}

.see-it-prepare-bottom {
  background: var(--si-surface);
  padding: 20px 24px;
  border-top: 1px solid var(--si-border-soft);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.see-it-prepare-actions-row {
  display: flex;
  gap: 12px;
  justify-content: space-between;
}

/* Crop Screen */
.see-it-crop-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 24px;
  overflow: hidden;
}

.see-it-crop-title {
  font-size: var(--si-title-size-mobile);
  font-weight: 600;
  color: var(--si-text);
  margin: 0 0 8px 0;
  line-height: var(--si-line-title);
}

.see-it-crop-description {
  font-size: var(--si-body-size);
  color: var(--si-muted);
  margin: 0 0 24px 0;
  line-height: var(--si-line-body);
}

.see-it-crop-container {
  flex: 1;
  position: relative;
  background: #000;
  border-radius: var(--si-radius-card);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 0;
  margin-bottom: 20px;
}

.see-it-crop-canvas {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  touch-action: none;
  user-select: none;
}

.see-it-crop-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.see-it-crop-box {
  position: absolute;
  border: 2px solid #fff;
  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
  pointer-events: none;
  cursor: move;
}

.see-it-crop-box.dragging {
  cursor: grabbing;
}

.see-it-crop-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background: #fff;
  border: 2px solid #000;
  border-radius: 50%;
  pointer-events: auto;
  cursor: nwse-resize;
}

.see-it-crop-handle-nw {
  top: -10px;
  left: -10px;
  cursor: nwse-resize;
}

.see-it-crop-handle-ne {
  top: -10px;
  right: -10px;
  cursor: nesw-resize;
}

.see-it-crop-handle-sw {
  bottom: -10px;
  left: -10px;
  cursor: nesw-resize;
}

.see-it-crop-handle-se {
  bottom: -10px;
  right: -10px;
  cursor: nwse-resize;
}

.see-it-crop-controls {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 20px;
}

.see-it-crop-zoom-control {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  color: var(--si-text);
}

.see-it-crop-zoom-control span {
  min-width: 50px;
  font-weight: 500;
}

.see-it-crop-zoom-slider {
  flex: 1;
  height: 4px;
  background: var(--si-border);
  border-radius: 2px;
  outline: none;
  -webkit-appearance: none;
  appearance: none;
}

.see-it-crop-zoom-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  background: var(--si-cta);
  border-radius: 50%;
  cursor: pointer;
}

.see-it-crop-zoom-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  background: var(--si-cta);
  border-radius: 50%;
  cursor: pointer;
  border: none;
}

.see-it-crop-hint {
  font-size: 13px;
  color: var(--si-muted);
  margin: 0;
  text-align: center;
}

.see-it-crop-actions {
  display: flex;
  gap: 12px;
}

.see-it-crop-actions button {
  flex: 1;
}

/* Position Screen */
.see-it-position-controls {
  padding: 24px;
  background: var(--si-surface);
  border-top: 1px solid var(--si-border-soft);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.see-it-save-room-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 14px;
  font-weight: 500;
  color: var(--si-text);
}

/* Result Screen */
.see-it-result-success {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: rgba(34, 197, 94, 0.1);
  color: var(--si-success);
  border-radius: var(--si-radius-chip);
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 16px;
}

/* =========================================
   8. Scale Indicator (used by Product Overlay)
   ========================================= */

/* Scale indicator shown during resize */
.see-it-scale-indicator {
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--si-cta);
  color: #fff;
  padding: 4px 10px;
  border-radius: var(--si-radius-pill);
  font-size: 12px;
  font-weight: 600;
  opacity: 0;
  transition: opacity 0.15s ease;
  white-space: nowrap;
}

.see-it-product-overlay.resizing .see-it-scale-indicator {
  opacity: 1;
}

/* Utils */
.see-it-hidden {
  display: none !important;
}

/* =========================================
   Header Spacer
   ========================================= */
.see-it-header-spacer {
  width: 40px;
}

/* =========================================
   Canvas Container (Shared)
   ========================================= */
.see-it-canvas-container {
  flex: 1;
  min-height: 0;
  /* Critical for flex children to shrink */
  position: relative;
  background: #f0f0f0;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.see-it-canvas-container img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* =========================================
   Prepare Screen Footer
   ========================================= */
.see-it-prepare-footer {
  flex-shrink: 0;
  /* Never shrink - always visible */
  padding: 16px 20px;
  background: var(--si-surface);
  border-top: 1px solid var(--si-border-soft);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.see-it-prepare-hint {
  text-align: center;
  color: var(--si-muted);
  font-size: 13px;
  margin: 0;
}

.see-it-brush-control {
  display: flex;
  align-items: center;
  gap: 12px;
}

.see-it-brush-control span {
  font-size: 13px;
  color: var(--si-muted);
  white-space: nowrap;
}

.see-it-brush-slider {
  flex: 1;
  height: 2px;
  -webkit-appearance: none;
  appearance: none;
  background: #d4d4d4;
  border-radius: 1px;
  outline: none;
}

.see-it-brush-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  background: var(--si-cta);
  border-radius: 50%;
  cursor: pointer;
}

.see-it-brush-slider::-moz-range-thumb {
  width: 14px;
  height: 14px;
  background: var(--si-cta);
  border-radius: 50%;
  cursor: pointer;
  border: none;
}

.see-it-prepare-actions {
  display: flex;
  gap: 8px;
}

.see-it-btn-sm {
  flex: 1;
  min-height: 44px;
}

/* =========================================
   Position Screen Footer
   ========================================= */
.see-it-position-footer {
  flex-shrink: 0;
  /* Never shrink - always visible */
  padding: 16px 20px;
  background: var(--si-surface);
  border-top: 1px solid var(--si-border-soft);
}

.see-it-position-hint {
  position: absolute;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
  padding: 8px 16px;
  border-radius: 100px;
  font-size: 12px;
  font-weight: 500;
  pointer-events: none;
  white-space: nowrap;
  transition: opacity 0.3s;
  z-index: 5;
}

.see-it-position-hint.see-it-hidden {
  opacity: 0;
}

/* =========================================
   Loading Screen - Semi-transparent overlay
   ========================================= */

/* Loading screen - semi-transparent to see room behind */
.see-it-screen-loading .see-it-loading-content {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.see-it-loading-text {
  font-size: 1.125rem;
  font-weight: 500;
  color: #171717;
  text-align: center;
}

/* Animated dots */
.see-it-loading-dots::after {
  content: '';
  animation: loadingDots 1.5s infinite;
}

@keyframes loadingDots {
  0% {
    content: '';
  }

  25% {
    content: '.';
  }

  50% {
    content: '..';
  }

  75% {
    content: '...';
  }

  100% {
    content: '';
  }
}

/* =========================================
   Result Screen
   ========================================= */
.see-it-result-container {
  flex: 1;
  min-height: 0;
  /* Critical for flex children to shrink */
  position: relative;
  overflow: hidden;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
}

.see-it-result-container img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.see-it-result-actions {
  flex-shrink: 0;
  /* Never shrink - always visible */
  padding: 16px 20px;
  background: var(--si-surface);
  border-top: 1px solid var(--si-border-soft);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.see-it-result-secondary {
  display: flex;
  justify-content: center;
  gap: 4px;
}

.see-it-btn-text {
  background: none;
  border: none;
  color: var(--si-muted);
  font-size: 13px;
  font-weight: 500;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.15s;
}

.see-it-disclaimer {
  display: block;
  font-size: 11px;
  color: var(--si-muted);
  text-align: center;
  margin-top: 12px;
  line-height: 1.4;
  opacity: 0.8;
  padding: 0 4px;
}

.see-it-btn-text:hover {
  color: var(--si-text);
  background: var(--si-border-soft);
}

/* =========================================
   Email Section
   ========================================= */
.see-it-email-section {
  flex-shrink: 0;
  /* Never shrink - always visible */
  padding: 16px 20px;
  background: #fafafa;
  border-top: 1px solid var(--si-border-soft);
}

.see-it-email-label {
  font-size: 13px;
  color: var(--si-muted);
  margin: 0 0 10px 0;
  font-weight: 500;
}

.see-it-email-form {
  display: flex;
  gap: 8px;
}

.see-it-email-form input {
  flex: 1;
  padding: 12px 14px;
  border: 1px solid var(--si-border);
  border-radius: 10px;
  font-size: 14px;
  font-family: var(--si-font);
  outline: none;
  transition: border-color 0.15s;
  background: #fff;
  min-width: 0;
}

.see-it-email-form input:focus {
  border-color: var(--si-text);
}

.see-it-email-form input::placeholder {
  color: var(--si-muted-2);
}

.see-it-email-form button {
  padding: 12px 20px;
  background: var(--si-cta);
  color: #fff;
  border: none;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  font-family: var(--si-font);
  cursor: pointer;
  white-space: nowrap;
  transition: background 0.15s;
}

.see-it-email-form button:hover {
  background: var(--si-cta-hover);
}

.see-it-email-form button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

#see-it-email-success {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--si-success);
  font-size: 14px;
  font-weight: 500;
}

#see-it-email-success.see-it-hidden {
  display: none;
}

/* =========================================
   Product Swiper
   ========================================= */
.see-it-swiper {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 30;
  padding: 20px;
}

.see-it-swiper.see-it-active {
  display: flex;
}

.see-it-swiper-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #fff;
}

.see-it-swiper-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  width: 100%;
  max-width: 280px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  transition: transform 0.2s ease;
}

.see-it-swiper-card.swiping-left {
  transform: translateX(-20px) rotate(-5deg);
}

.see-it-swiper-card.swiping-right {
  transform: translateX(20px) rotate(5deg);
}

.see-it-swiper-card img {
  width: 100%;
  aspect-ratio: 1;
  object-fit: cover;
  background: #f5f5f5;
}

.see-it-swiper-info {
  padding: 16px;
  text-align: center;
}

.see-it-swiper-name {
  font-size: 16px;
  font-weight: 600;
  color: var(--si-text);
  margin-bottom: 4px;
}

.see-it-swiper-collection {
  font-size: 12px;
  color: var(--si-muted);
}

.see-it-swiper-hint {
  color: rgba(255, 255, 255, 0.6);
  font-size: 12px;
  margin-top: 16px;
}

.see-it-swiper-actions {
  display: flex;
  gap: 16px;
  margin-top: 20px;
}

.see-it-swiper-btn {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.15s;
}

.see-it-swiper-btn:hover {
  transform: scale(1.1);
}

.see-it-swiper-btn:active {
  transform: scale(0.95);
}

.see-it-swiper-btn-skip {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
}

.see-it-swiper-btn-select {
  background: #fff;
  color: var(--si-text);
}

.see-it-swiper-btn svg {
  width: 24px;
  height: 24px;
}

/* Desktop nav arrows */
.see-it-swiper-nav {
  display: none;
}

@media (min-width: 768px) {
  .see-it-swiper-card {
    max-width: 320px;
  }

  .see-it-swiper-nav {
    display: flex;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: calc(100% - 80px);
    justify-content: space-between;
    pointer-events: none;
  }

  .see-it-swiper-nav button {
    pointer-events: auto;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.9);
    color: var(--si-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.15s;
  }

  .see-it-swiper-nav button:hover {
    transform: scale(1.1);
  }

  .see-it-swiper-hint {
    display: none;
  }

  /* Desktop result actions horizontal */
  .see-it-result-actions {
    flex-direction: row;
    align-items: center;
    gap: 16px;
  }

  .see-it-result-actions .see-it-btn-primary-pill {
    width: auto;
    flex: 0 0 auto;
  }

  .see-it-result-secondary {
    flex: 1;
    justify-content: flex-start;
  }

  .see-it-email-section {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .see-it-email-label {
    margin: 0;
    white-space: nowrap;
  }

  .see-it-email-form {
    flex: 1;
    max-width: 400px;
  }
}

/* =========================================
   Position Screen - Canvas with Resize Handles
   ========================================= */

/* Position canvas needs visible overflow for resize handles */
.see-it-position-canvas {
  overflow: visible;
}

/* Product overlay - the draggable/resizable product container */
.see-it-product-overlay {
  position: absolute;
  cursor: move;
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
  z-index: 10;
  border: 2px dashed rgba(23, 23, 23, 0.6);
  border-radius: 4px;
  box-sizing: border-box;
}

/* Product image inside overlay */
.see-it-product-overlay img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
  display: block;
}

/* Resize handles - corner circles */
.see-it-resize-handle {
  position: absolute;
  /* Defensive: some themes (e.g. Dawn) hide empty divs via `div:empty { display:none }` */
  display: block !important;
  width: 20px;
  height: 20px;
  background: #ffffff;
  border: 2px solid #171717;
  border-radius: 50%;
  /* Keep the &nbsp; from affecting layout/appearance */
  font-size: 0;
  line-height: 0;
  z-index: 20;
  touch-action: none;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  pointer-events: auto;
  transition: transform 0.1s ease, background 0.1s ease;
}

.see-it-resize-handle:hover {
  background: #e5e5e5;
  transform: scale(1.15);
}

.see-it-resize-nw {
  top: -10px;
  left: -10px;
  cursor: nw-resize;
}

.see-it-resize-ne {
  top: -10px;
  right: -10px;
  cursor: ne-resize;
}

.see-it-resize-sw {
  bottom: -10px;
  left: -10px;
  cursor: sw-resize;
}

.see-it-resize-se {
  bottom: -10px;
  right: -10px;
  cursor: se-resize;
}